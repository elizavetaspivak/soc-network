(this.webpackJsonpsoc=this.webpackJsonpsoc||[]).push([[3],{296:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var o=s(4),n=s(87),i=s(11),c=(s(1),s(15)),r=s(0),a=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(c.b)(a)((function(e){var s=e.isAuth,c=Object(n.a)(e,["isAuth"]);return s?Object(r.jsx)(t,Object(o.a)({},c)):Object(r.jsx)(i.a,{to:"/login"})}))}},297:function(t,e,s){t.exports={description_block:"ProfileInfo_description_block__187mR",profilePhoto:"ProfileInfo_profilePhoto__9KLOb",updatePhoto:"ProfileInfo_updatePhoto__1oo45",image_block:"ProfileInfo_image_block__2czoV"}},298:function(t,e,s){t.exports={status:"ProfileStatus_status__SCDgG"}},299:function(t,e,s){t.exports={posts_block:"MyPosts_posts_block__12W53",posts:"MyPosts_posts__3ZUOo"}},300:function(t,e,s){t.exports={item:"Post_item__371Kq"}},302:function(t,e,s){"use strict";s.r(e);var o=s(4),n=s(1),i=s.n(n),c=s(29),r=s(95),a=s(297),u=s.n(a),l=s(40),j=s(298),b=s.n(j),d=s(0);function f(t){var e=Object(n.useState)(!1),s=Object(r.a)(e,2),o=s[0],i=s[1],c=Object(n.useState)(t.status),a=Object(r.a)(c,2),u=a[0],l=a[1];Object(n.useEffect)((function(){l(t.status)}),[t.status]);return Object(d.jsx)("div",{children:o?Object(d.jsx)("div",{children:Object(d.jsx)("input",{onBlur:function(){i(!1),t.updateStatus(u)},value:u,onChange:function(t){l(t.currentTarget.value)},autoFocus:!0})}):Object(d.jsxs)("div",{className:b.a.status,children:["Status: ",Object(d.jsxs)("span",{onDoubleClick:function(){i(!0)},children:[t.status," "]})]})})}var h=s(104),p=s(15),O=s(48),x=s(26),m=s.n(x),v=s(126),g=s(127),P=function(t,e,s,o,n){return Object(d.jsx)("div",{children:Object(d.jsx)(v.a,{type:t,placeholder:e,name:s,component:o,validate:n})})};var k=Object(g.a)({form:"edit-profile"})((function(t){var e=Object(p.c)((function(t){return t.profilePage.profile}));return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[t.error&&Object(d.jsx)("div",{className:m.a.formSummaryError,children:t.error}),Object(d.jsxs)("div",{style:{listStyleType:"none",paddingLeft:"0px",marginLeft:"0px"},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Full name:"}),P("textarea","Full  name","fullName",O.a,[])," "]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About Me: "}),e.aboutMe,P("textarea","About Me","aboutMe",O.b,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No",P("checkbox","","lookingForAJob",O.a,[])]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"My professional skills"})," : ",e.lookingForAJobDescription,P("textarea","My professional skills","lookingForAJobDescription",O.b,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(d.jsx)("div",{className:"contact",children:Object(d.jsxs)("b",{children:[t,": ",P(t,"textarea","contacts."+t,O.a,[])," "]})})}))]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"Save"})})]})}));function S(t){var e=Object(n.useState)(!1),s=Object(r.a)(e,2),o=s[0],i=s[1];return t.profile?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:u.a.description_block,children:[Object(d.jsxs)("div",{className:u.a.profilePhoto,children:[Object(d.jsx)("img",{src:t.profile.photos.large||h.a,alt:""}),Object(d.jsx)("div",{className:u.a.updatePhoto,children:t.isOwner?Object(d.jsx)("input",{type:"file",onChange:function(e){return function(e){var s;(null===(s=e.target.files)||void 0===s?void 0:s.length)&&t.savePhoto(e.target.files[0])}(e)}}):""})]}),o?Object(d.jsx)(k,{initialValues:t.profile,onSubmit:function(e){t.saveProfile(e).then((function(){i(!1)}))}}):Object(d.jsx)(_,{goToEditMode:function(){i(!0)},isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,changeStatusAC:t.changeStatusAC})]})}):Object(d.jsx)(l.a,{})}function _(t){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Name: ",t.profile.fullName]}),Object(d.jsx)(f,{status:t.status,changeStatusAC:t.changeStatusAC,updateStatus:t.updateStatus}),Object(d.jsxs)("p",{children:["About Me: ",t.profile.aboutMe]}),Object(d.jsxs)("p",{children:["Looking for a job: ",t.profile.lookingForAJob?"Yes ":"No "]}),t.profile.lookingForAJob&&Object(d.jsxs)("div",{children:["My professional skills: ",t.profile.lookingForAJobDescription]}),Object(d.jsxs)("div",{children:["Contacts: ",t.profile.contacts&&Object.entries(t.profile.contacts).map((function(t){return t[1]&&Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:t[1],children:t[0]})})}))]}),t.isOwner?Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:t.goToEditMode,children:"EDIT"})}):""]})}var A=s(94),C=s(299),y=s.n(C),M=s(300),w=s.n(M);function N(t){return Object(d.jsxs)("div",{className:w.a.item,children:[Object(d.jsx)("img",{src:"https://www.liveabout.com/thmb/pElYdfgKoydmsrso8fiU1wd-jO0=/1449x1449/smart/filters:no_upscale()/Avatar_12_HR_01-56a00ca93df78cafda9fd17c.jpg"}),t.message,Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"like"})," ",t.likesCount]})]})}var I=s(65),F=Object(I.a)(10),T=Object(g.a)({form:"profileMyPostsForm"})((function(t){return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsx)("div",{children:Object(d.jsx)(v.a,{placeholder:"Enter your post",name:"newPostBody",component:O.b,validate:[I.b,F]})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"Add"})})]})})),D=i.a.memo((function(t){var e=t.posts.map((function(t){return Object(d.jsx)(N,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return Object(d.jsxs)("div",{className:y.a.posts_block,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsx)(T,{onSubmit:function(e){t.addPostActionCreator(e.newPostBody)}}),Object(d.jsx)("div",{className:y.a.posts,children:e})]})})),J=function(t){return t.profilePage.profile},E=function(t){return t.profilePage.status},U=function(t){return t.auth.userId},L=function(t){return t.profilePage.posts},z=Object(p.b)((function(t){return{posts:L(t)}}),{addPostActionCreator:A.a})(D);function B(t){return document.title="Profile",Object(d.jsxs)("div",{children:[Object(d.jsxs)(c.a,{children:[Object(d.jsx)("title",{children:"Profile"}),Object(d.jsx)("meta",{name:"description",content:"Profile application"})]}),Object(d.jsx)(S,{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,changeStatusAC:t.changeStatusAC,updateStatus:t.updateStatus}),Object(d.jsx)(z,{})]})}var K=s(11),Y=s(296),R=s(10),V=s(88);e.default=Object(R.d)(Object(p.b)((function(t){return{profile:J(t),status:E(t),autorizedUserID:U(t),isAuth:Object(V.a)(t)}}),{setUserProfile:A.h,getMeProfileThunkCreator:A.c,changeStatusAC:A.b,getMeStatusThunkCreator:A.d,updateStatusThunkCreator:A.i,savePhoto:A.f,saveProfile:A.g}),K.f,Y.a)((function(t){return Object(n.useEffect)((function(){var e=Number(t.match.params.userId);e||(e=t.autorizedUserID)||t.history.push("/login"),t.getMeProfileThunkCreator(e),t.getMeStatusThunkCreator(e)}),[t.match.params.userId,t.autorizedUserID,t]),Object(d.jsxs)("div",{children:[Object(d.jsxs)(c.a,{children:[Object(d.jsx)("title",{children:"Profile"}),Object(d.jsx)("meta",{name:"description",content:"Profile application"})]}),Object(d.jsx)(B,Object(o.a)(Object(o.a)({},t),{},{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:!t.match.params.userId,profile:t.profile,status:t.status,changeStatusAC:t.changeStatusAC,updateStatus:t.updateStatusThunkCreator}))]})}))}}]);
//# sourceMappingURL=3.db0dc0a6.chunk.js.map