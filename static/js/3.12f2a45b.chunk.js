(this.webpackJsonpsoc=this.webpackJsonpsoc||[]).push([[3],{296:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var o=s(4),i=s(87),n=s(11),r=(s(1),s(15)),c=s(0),a=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(r.b)(a)((function(e){var s=e.isAuth,r=Object(i.a)(e,["isAuth"]);return s?Object(c.jsx)(t,Object(o.a)({},r)):Object(c.jsx)(n.a,{to:"/login"})}))}},297:function(t,e,s){t.exports={description_block:"ProfileInfo_description_block__187mR",profilePhoto:"ProfileInfo_profilePhoto__9KLOb",updatePhoto:"ProfileInfo_updatePhoto__1oo45",image_block:"ProfileInfo_image_block__2czoV"}},298:function(t,e,s){t.exports={status:"ProfileStatus_status__SCDgG"}},299:function(t,e,s){t.exports={posts_block:"MyPosts_posts_block__12W53",posts:"MyPosts_posts__3ZUOo"}},300:function(t,e,s){t.exports={item:"Post_item__371Kq"}},302:function(t,e,s){"use strict";s.r(e);var o=s(4),i=s(1),n=s.n(i),r=s(29),c=s(96),a=s(297),l=s.n(a),u=s(40),j=s(298),b=s.n(j),d=s(0);function f(t){var e=Object(i.useState)(!1),s=Object(c.a)(e,2),o=s[0],n=s[1],r=Object(i.useState)(t.status),a=Object(c.a)(r,2),l=a[0],u=a[1];Object(i.useEffect)((function(){u(t.status)}),[t.status]);return Object(d.jsx)("div",{children:o?Object(d.jsx)("div",{children:Object(d.jsx)("input",{onBlur:function(){n(!1),t.updateStatus(l)},value:l,onChange:function(t){u(t.currentTarget.value)},autoFocus:!0})}):Object(d.jsxs)("div",{className:b.a.status,children:["Status: ",Object(d.jsxs)("span",{onDoubleClick:function(){n(!0)},children:[t.status," "]})]})})}var h=s(94),p=s(15),O=s(48),x=s(26),v=s.n(x),m=s(126),g=s(127),P=function(t,e,s,o,i){return Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{type:t,placeholder:e,name:s,component:o,validate:i})})};var k=Object(g.a)({form:"edit-profile"})((function(t){var e=Object(p.c)((function(t){return t.profilePage.profile}));return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[t.error&&Object(d.jsx)("div",{className:v.a.formSummaryError,children:t.error}),Object(d.jsxs)("div",{style:{listStyleType:"none",paddingLeft:"0px",marginLeft:"0px"},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Full name:"}),P("textarea","Full  name","fullName",O.a,[])," "]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About Me: "}),e.aboutMe,P("textarea","About Me","aboutMe",O.b,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No",P("checkbox","","lookingForAJob",O.a,[])]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"My professional skills"})," : ",e.lookingForAJobDescription,P("textarea","My professional skills","lookingForAJobDescription",O.b,[])]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(d.jsx)("div",{className:"contact",children:Object(d.jsxs)("b",{children:[t,": ",P(t,"textarea","contacts."+t,O.a,[])," "]})})}))]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"Save"})})]})}));function S(t){var e=Object(i.useState)(!1),s=Object(c.a)(e,2),o=s[0],n=s[1];return t.profile?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:l.a.description_block,children:[Object(d.jsxs)("div",{className:l.a.profilePhoto,children:[Object(d.jsx)("img",{src:t.profile.photos.large||h.a,alt:""}),Object(d.jsx)("div",{className:l.a.updatePhoto,children:t.isOwner?Object(d.jsx)("input",{type:"file",onChange:function(e){return function(e){var s;(null===(s=e.target.files)||void 0===s?void 0:s.length)&&t.savePhoto(e.target.files[0])}(e)}}):""})]}),o?Object(d.jsx)(k,{initialValues:t.profile,onSubmit:function(e){t.saveProfile(e).then((function(){n(!1)}))}}):Object(d.jsx)(_,{goToEditMode:function(){n(!0)},isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,changeStatusAC:t.changeStatusAC})]})}):Object(d.jsx)(u.a,{})}function _(t){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Name: ",t.profile.fullName]}),Object(d.jsx)(f,{status:t.status,changeStatusAC:t.changeStatusAC,updateStatus:t.updateStatus}),Object(d.jsxs)("p",{children:["About Me: ",t.profile.aboutMe]}),Object(d.jsxs)("p",{children:["Looking for a job: ",t.profile.lookingForAJob?"Yes ":"No "]}),t.profile.lookingForAJob&&Object(d.jsxs)("div",{children:["My professional skills: ",t.profile.lookingForAJobDescription]}),Object(d.jsxs)("div",{children:["Contacts: ",t.profile.contacts&&Object.entries(t.profile.contacts).map((function(t){return t[1]&&Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:t[1],children:t[0]})})}))]}),t.isOwner?Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:t.goToEditMode,children:"EDIT"})}):""]})}var A=s(95),C=s(299),M=s.n(C),y=s(300),N=s.n(y);function w(t){return Object(d.jsxs)("div",{className:N.a.item,children:[Object(d.jsx)("img",{src:t.profile?t.profile.photos.small:h.a,alt:""}),t.message,Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"like"})," ",t.likesCount]})]})}var F=s(65),I=Object(F.a)(10),T=Object(g.a)({form:"profileMyPostsForm"})((function(t){return Object(d.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{placeholder:"Enter your post",name:"newPostBody",component:O.b,validate:[F.b,I]})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"Add"})})]})})),J=n.a.memo((function(t){var e=t.posts.map((function(e){return Object(d.jsx)(w,{profile:t.profile,message:e.message,likesCount:e.likesCount,id:e.id},e.id)}));return Object(d.jsxs)("div",{className:M.a.posts_block,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsx)(T,{onSubmit:function(e){t.addPostActionCreator(e.newPostBody)}}),Object(d.jsx)("div",{className:M.a.posts,children:e})]})})),D=function(t){return t.profilePage.profile},E=function(t){return t.profilePage.status},L=function(t){return t.auth.userId},U=function(t){return t.profilePage.posts},z=Object(p.b)((function(t){return{posts:U(t),profile:D(t)}}),{addPostActionCreator:A.a})(J);function B(t){return document.title="Profile",Object(d.jsxs)("div",{children:[Object(d.jsxs)(r.a,{children:[Object(d.jsx)("title",{children:"Profile"}),Object(d.jsx)("meta",{name:"description",content:"Profile application"})]}),Object(d.jsx)(S,{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,changeStatusAC:t.changeStatusAC,updateStatus:t.updateStatus}),Object(d.jsx)(z,{})]})}var K=s(11),V=s(296),Y=s(10),q=s(88);e.default=Object(Y.d)(Object(p.b)((function(t){return{profile:D(t),status:E(t),autorizedUserID:L(t),isAuth:Object(q.a)(t)}}),{setUserProfile:A.h,getMeProfileThunkCreator:A.c,changeStatusAC:A.b,getMeStatusThunkCreator:A.d,updateStatusThunkCreator:A.i,savePhoto:A.f,saveProfile:A.g}),K.f,V.a)((function(t){return Object(i.useEffect)((function(){var e=Number(t.match.params.userId);e||(e=t.autorizedUserID)||t.history.push("/login"),t.getMeProfileThunkCreator(e),t.getMeStatusThunkCreator(e)}),[t.match.params.userId]),Object(d.jsxs)("div",{children:[Object(d.jsxs)(r.a,{children:[Object(d.jsx)("title",{children:"Profile"}),Object(d.jsx)("meta",{name:"description",content:"Profile application"})]}),Object(d.jsx)(B,Object(o.a)(Object(o.a)({},t),{},{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:!t.match.params.userId,profile:t.profile,status:t.status,changeStatusAC:t.changeStatusAC,updateStatus:t.updateStatusThunkCreator}))]})}))}}]);
//# sourceMappingURL=3.12f2a45b.chunk.js.map